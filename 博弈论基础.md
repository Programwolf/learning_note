# 博弈论基础

## 巴什博弈（Bash Game）

有一堆 $n$ 个物品，两个人轮流从中取物品，每人每次能取 $[1, m]$ 个石子，拿到最后一个物品的人获胜（即取光者胜）。

> 结论：只有当 `n % (m + 1) == 0` 时后手必胜，否则先手胜。

**分析：**

- 当 $n \le m$ 时，这时先手一次性取完，**先手胜**；
- 当 $n = m + 1$ 时，由于先手只能取 $[1,m]$ 个，所以无论先手取多少个，后手总能一次性取走剩下的，故**后手胜**；
- 当 $n = k \times (m + 1)$ 时，对于 $m + 1$ 个物品，当先手取走 $i$ 个物品后，只要后手将剩下的 $(m + 1 - i)$ 个物品取走，剩下的物品数量就会是 $(k - 1) \times (m + 1)$ 。因此，无论 $k$ 为多大，后手总能取走最后一个物品。故**后手胜**；
- 当 $n = k \times (m + 1) + x$ 时，先手可以先取 $x$ 个，之后的情况就与上一个相同了，无论后手取走多少个，先手总能取走最后一个物品。故**先手胜**。

**综上所述，只有当 $n = k \times (m + 1)$ （即 `n % (m + 1) == 0`）时，后手才会胜出，否则先手胜。**

<!------------------------------补充例题--------------------------->
<!--http://acm.hdu.edu.cn/showproblem.php?pid=1846-->

**变形：**

如果我们规定，**拿走最后一个物品的人输**，情况又会如何呢？

我们可以这样考虑，如果已经有 $(n - 1)$ 个物品被拿走了，那么下一个拿的人就只能拿最后一个，那么他就是必输的。所以这个问题就可以转换为：**有一堆 $n - 1$ 个物品，最后取光的人胜** 就行了。这样，问题就与巴什博弈一样了。

> 结论：`(n - 1) % (m + 1) == 0` 时，后手胜，否则先手胜。


<!------------------------------补充例题--------------------------->
<!--http://acm.hdu.edu.cn/showproblem.php?pid=4764-->
